@model GrooveHub.Areas.Admin.Models.AdminAgregarAlbumViewModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Editar";
    Layout = "~/Views/Shared/AdminLayout.cshtml";
}

<form method="post" action="~/Admin/Albumes/Editar" enctype="multipart/form-data">
    <h1>Editar Álbum</h1>
    <div>
        <input type="hidden" asp-for="Album.Id" />
        <span>
            <label>Nombre del álbum:</label>
            <input type="text" id="txtNombrealbum" asp-for="Album.TituloAlbum" />
        </span>
        <span id="a">
            <label>Fecha de lanzamiento:</label>
            <input type="date" min="0" id="txtlanzamiento" asp-for="Album.FechaLanzamiento" />
        </span>
        <span>
            <label>Imagen:</label>
            <input type="file" id="fileUpload1" asp-for="AlbumFile" accept="image/jpg" />
            <img id="imagePreview" src="~/albumes/@(Model.Album.Id).jpg" />
        </span>
    </div>
    <div class="Botones">
        <p id="Error">@Html.ValidationSummary(true)</p>
        <input type="submit" value="Editar" id="btnAgregar" />
        <a href="~/Admin/Albumes/"><input type="button" value="Cancelar" id="btnCancelar" /></a>
    </div>
</form>
<script>

    function mostrarImagen(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('imagePreview').src = e.target.result;
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    document.getElementById('fileUpload1').addEventListener('change', function () {
        mostrarImagen(this);
    });
</script>